FROM dvoros/sqoop

WORKDIR /opt
# Install netcat to tell when mysql is ready
RUN yum update -y
RUN yum install -y nc install mysql-connector-java wget
RUN wget --no-check-certificate https://dlcdn.apache.org/hbase/2.5.6/hbase-2.5.6-bin.tar.gz
RUN tar -xvf hbase-2.5.6-bin.tar.gz
RUN mv hbase-2.5.6 hbase
COPY Dependencies/*.jar /usr/local/sqoop/lib/
RUN cp hbase/lib/hbase-mapreduce-2.5.6.jar /usr/local/sqoop/lib/
RUN cp hbase/lib/hbase-zookeeper-2.5.6.jar /usr/local/sqoop/lib/
RUN wget --no-check-certificate https://dlcdn.apache.org/zookeeper/zookeeper-3.8.3/apache-zookeeper-3.8.3-bin.tar.gz
RUN tar -xvf apache-zookeeper-3.8.3-bin.tar.gz
COPY Dependencies/zoo.cfg apache-zookeeper-3.8.3-bin/config/zoo.cfg